import{j as e,L as i}from"./app-C8shHsPf.js";import{A as j}from"./AppLayout-BLsdKGGp.js";import{F as b}from"./FormulaForm-DTLIOQ_f.js";import{u as N}from"./useFormWithCsrf-pzulnl7q.js";import{I as v}from"./IconArrowLeft-DuPKu4fQ.js";import{I as g}from"./IconTrash-Cz_CNdIA.js";import"./IconRefresh-D4MBDMrg.js";import"./IconAlertCircle-DQAoqimh.js";import"./IconMath-fwBtLO5o.js";import"./card-f9el_SxJ.js";import"./IconCircleCheck-e_U_QFeQ.js";import"./apiClient-B5VLjQ69.js";import"./IconPlayerPlay-DFBbOW6V.js";import"./IconCopy-BAJLzt9p.js";import"./IconDownload-Bbm4F2cX.js";import"./IconChevronUp-CAfByx67.js";function C({formula:s,products:t,returnTypes:n,supportedOperations:c}){const{data:l,setData:d,put:o,processing:r,errors:m}=N({name:s.name||"",description:s.description||"",expression:s.expression||"",product_id:s.product_id||"",return_type:s.return_type||"numeric",is_active:s.is_active??!0}),{delete:p,processing:a}=useForm(),u=x=>{x.preventDefault(),o(`/formulas/${s.id}`,{onSuccess:()=>{}})},h=()=>{confirm("Are you sure you want to delete this formula? This action cannot be undone.")&&p(`/formulas/${s.id}`)};return e.jsxs(j,{title:`Edit Formula: ${s.name}`,children:[e.jsx("div",{className:"page-header d-print-none",children:e.jsx("div",{className:"container-xl",children:e.jsxs("div",{className:"row g-2 align-items-center",children:[e.jsxs("div",{className:"col",children:[e.jsx("nav",{"aria-label":"breadcrumb",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(i,{href:"/formulas",children:"Formulas"})}),e.jsx("li",{className:"breadcrumb-item",children:e.jsx(i,{href:`/formulas/${s.id}`,children:s.name})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Edit"})]})}),e.jsx("div",{className:"page-pretitle",children:"Formula Management"}),e.jsxs("h2",{className:"page-title",children:["Edit Formula: ",s.name]})]}),e.jsx("div",{className:"col-auto ms-auto d-print-none",children:e.jsxs("div",{className:"btn-list",children:[e.jsxs(i,{href:`/formulas/${s.id}`,className:"btn",children:[e.jsx(v,{size:16,className:"me-1"}),"Back to Formula"]}),e.jsxs("button",{type:"button",className:"btn btn-danger",onClick:h,disabled:a,children:[e.jsx(g,{size:16,className:"me-1"}),a?"Deleting...":"Delete"]})]})})]})})}),e.jsx("div",{className:"page-body",children:e.jsx("div",{className:"container-fluid px-3",children:e.jsx("div",{className:"row g-3",children:e.jsx("div",{className:"col-12",children:e.jsx("form",{onSubmit:u,children:e.jsx(b,{data:l,setData:d,errors:m,products:t,returnTypes:n,supportedOperations:c,processing:r,submitText:r?"Updating...":"Update Formula",cancelUrl:`/formulas/${s.id}`})})})})})})]})}export{C as default};
